{% extends "base.html" %}

{% block content %}

<!-- ============================================-->
<!-- <section> begin ============================-->
    <section class="bg-600">
        <div class="container">
            <div class="row">
            <div class="col">
                <h1 class="mb-3">Alunos na lista de espera</h1>
            </div>
            </div>
    
            {% with mensagens = get_flashed_messages(with_categories = True) %}
            {% if mensagens %}
            {% for categoria, mensagem in mensagens%}
            <div class="container p-0 m-0">
                <div class="alert alert-{{categoria}}" role="alert">
                {{ mensagem }}
                </div>
            </div>
            {% endfor %}
            {% endif %}
            {% endwith %}

            <table class="table table-hover">
                <thead>
                  <tr>
                    <!--  id, nome da pessoa, email, matricula e titulo do livro -->
                    <th scope="col">#</th>
                    <th scope="col">Nome</th>
                    <th scope="col">Matrícula</th>
                    <th scope="col">Email</th>
                    <th scope="col">Título</th>
                    <th scope="col">Ação</th>
                  </tr>
                </thead>
                <tbody>
                {% for awaiting in awaiting_list %}
                  <tr>
                    <th scope="row">1</th>
                    <td>{{ awaiting['nome'] }}</td>
                    <td>{{ awaiting['matricula'] }}</td>
                    <td>{{ awaiting['email'] }}</td>
                    <td>{{ awaiting['titulo'] }}</td>
                    <td><a class="btn btn-warning order-1 order-lg-0" style="color: white;" href="{{ url_for('validate_await_lending', awaiting_id=awaiting['id']) }}">Validar empréstimo</a></td>
                  </tr>
                {% endfor %}
                </tbody>
              </table>

{% endblock %}