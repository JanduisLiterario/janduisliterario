{% extends "base.html" %}

{% block content %}

<!-- <script type="text/javascript">

    // Load Charts and the corechart package.
    google.charts.load('current', {'packages':['corechart']});

    // Draw the pie chart for Sarah's pizza when Charts is loaded.
    google.charts.setOnLoadCallback(drawlendingspermonth);

    // Draw the pie chart for the Anthony's pizza when Charts is loaded.
    google.charts.setOnLoadCallback(drawAnthonyChart);

    // Callback that draws the pie chart for Sarah's pizza.
    function drawlendingspermonth() {

    // Create the data table for Sarah's pizza.
    var data = new google.visualization.DataTable();
    data.addColumn('string', 'Topping');
    data.addColumn('number', 'Empréstimos','cadastros');
    data.addRows([
        ['Janeiro', {{ lendingspermonth[0][0]['janeiro'] }}],
        ['Fevereiro', {{ lendingspermonth[1][0]['fevereiro'] }}],
        ['Março', {{ lendingspermonth[2][0]['marco'] }}],
        ['Abril', {{ lendingspermonth[3][0]['abril'] }}],
        ['Maio', {{ lendingspermonth[4][0]['maio'] }}],
        ['Junho', {{ lendingspermonth[5][0]['junho'] }}],
        ['Julho', {{ lendingspermonth[6][0]['julho'] }}],
        ['Agosto', {{ lendingspermonth[7][0]['agosto'] }}],
        ['Setembro', {{ lendingspermonth[8][0]['setembro'] }}],
        ['Outubro', {{ lendingspermonth[9][0]['outubro'] }}],
        ['Novembro', {{ lendingspermonth[10][0]['novembro'] }}],
        ['Dezembro', {{ lendingspermonth[11][0]['dezembro'] }}],
    ]);

    // Set options for Sarah's pie chart.
    var options = {title:'Quantidade de empréstimos por mês (2022)',
                    width:1200,
                    height:500,
                    bar: {groupWidth: "95%"}};

    // Instantiate and draw the chart for Sarah's pizza.
    var chart = new google.visualization.ColumnChart(document.getElementById('drawlendingspermonth_div'));
    chart.draw(data, options);
    }

</script> -->

<script type="text/javascript">
    google.charts.load('current', {'packages':['bar']});
    google.charts.setOnLoadCallback(drawChart);

    function drawChart() {
        var data = google.visualization.arrayToDataTable([
        ['Mês', 'Empréstimos', 'Cadastros', 'Usuários atendidos'],
        ['Janeiro', {{ lendingspermonth[0][0]['janeiro'] }}, {{ bookspermonth[0][0]['janeiro'] }}, {{ peoplesservedpermonth[0]['janeiro'] }}],
        ['Fevereiro', {{ lendingspermonth[1][0]['fevereiro'] }}, {{ bookspermonth[1][0]['fevereiro'] }}, {{ peoplesservedpermonth[1]['fevereiro'] }}],
        ['Março', {{ lendingspermonth[2][0]['marco'] }}, {{ bookspermonth[2][0]['marco'] }}, {{ peoplesservedpermonth[2]['marco'] }}],
        ['Abril', {{ lendingspermonth[3][0]['abril'] }}, {{ bookspermonth[3][0]['abril'] }}, {{ peoplesservedpermonth[3]['abril'] }}],
        ['Maio', {{ lendingspermonth[4][0]['maio'] }}, {{ bookspermonth[4][0]['maio'] }}, {{ peoplesservedpermonth[4]['maio'] }}],
        ['Junho', {{ lendingspermonth[5][0]['junho'] }}, {{ bookspermonth[5][0]['junho'] }}, {{ peoplesservedpermonth[5]['junho'] }}],
        ['Julho', {{ lendingspermonth[6][0]['julho'] }}, {{ bookspermonth[6][0]['julho'] }}, {{ peoplesservedpermonth[6]['julho'] }}],
        ['Agosto', {{ lendingspermonth[7][0]['agosto'] }}, {{ bookspermonth[7][0]['agosto'] }}, {{ peoplesservedpermonth[7]['agosto'] }}],
        ['Setembro', {{ lendingspermonth[8][0]['setembro'] }}, {{ bookspermonth[8][0]['setembro'] }}, {{ peoplesservedpermonth[8]['setembro'] }}],
        ['Outubro', {{ lendingspermonth[9][0]['outubro'] }}, {{ bookspermonth[9][0]['outubro'] }}, {{ peoplesservedpermonth[9]['outubro'] }}],
        ['Novembro', {{ lendingspermonth[10][0]['novembro'] }}, {{ bookspermonth[10][0]['novembro'] }}, {{ peoplesservedpermonth[10]['novembro'] }}],
        ['Dezembro', {{ lendingspermonth[11][0]['dezembro'] }}, {{ bookspermonth[11][0]['dezembro'] }}, {{ peoplesservedpermonth[11]['dezembro'] }}],
        ]);

        var options = {
        chart: {
            title: 'Relatório Mensal',
            subtitle: 'Empréstimos e novos livros cadastrados',
        }
        };

        var chart = new google.charts.Bar(document.getElementById('drawlendingspermonth_div'));

        chart.draw(data, google.charts.Bar.convertOptions(options));
    }
</script>

<section class="pt-6 bg-600 mb-3" id="home">
    <div class="container">
      <div class="row align-items-center">
        <div class="col-md-5 col-lg-6 order-0 order-md-1 text-end"><img class="pt-7 pt-md-0 w-100" src="{{ url_for('static', filename='assets/img/gallery/adm.png') }}" width="500" alt="hero-header" /></div>
        <div class="col-md-7 col-lg-6 text-md-start text-center py-6">
          <h1 class="fw-bold font-sans-serif">Janduís literário</h1>
          <h2 class="fs-4 fs-xl-5 mb-5">Seja bem vindo ao painel de administração do Janduís literário, aqui você possui acesso a relatórios diversos do sistema.</h2>
        </div>
      </div>
    </div>
</section>

<div class="container-fluid d-flex justify-content-center">
    <div class="row">

        <div class="col">
            <div id="drawlendingspermonth_div" style="border: 1px solid #ccc; width: 1000px; height: 500px;"></div>
        </div>

    </div>
</div>
<!--
<table class="columns">
    <tr>
      <td><div id="Sarah_chart_div" style="border: 1px solid #ccc"></div></td>
      <td><div id="Anthony_chart_div" style="border: 1px solid #ccc"></div></td>
    </tr>
</table>
-->

{% endblock %}